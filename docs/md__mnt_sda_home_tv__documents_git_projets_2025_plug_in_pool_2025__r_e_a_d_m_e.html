<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Projet Plug-In-Pool: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="projet-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Projet Plug-In-Pool
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">BTS CIEL IR LaSalle Avignon 2025</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Recherche','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Recherche');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__mnt_sda_home_tv__documents_git_projets_2025_plug_in_pool_2025__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><table class="doxtable">
<tr>
<th colspan="3">Plug-In-Pool  </th></tr>
<tr>
<td><a href="https://fr.wikipedia.org/wiki/Android"><img src="https://img.shields.io/badge/Android-3DDC84?style=for-the-badge&amp;logo=android&amp;logoColor=white" alt="Android" class="inline"/></a>  </td><td><a href="https://fr.wikipedia.org/wiki/Qt"><img src="https://img.shields.io/badge/Qt-%23217346.svg?style=for-the-badge&amp;logo=Qt&amp;logoColor=white" alt="Qt" style="pointer-events: none;" class="inline"/></a>  </td><td><a href="https://github.com/bts-lasalle-avignon-projets/plug-in-pool-2025"><img src="https://img.shields.io/badge/Projet-BTS%20CIEL-darkviolet.svg" alt="Projet BTS CIEL" style="pointer-events: none;" class="inline"/></a>   </td></tr>
</table>
<table class="doxtable">
<tr>
<th colspan="2">GitHub Actions  </th></tr>
<tr>
<td><a href="https://github.com/bts-lasalle-avignon-projets/plug-in-pool-2025/actions/workflows/qt-build.yml"><img src="https://github.com/bts-lasalle-avignon-projets/plug-in-pool-2025/actions/workflows/qt-build.yml/badge.svg" alt="Android" style="pointer-events: none;" class="inline"/></a>  </td><td><a href="https://github.com/bts-lasalle-avignon-projets/plug-in-pool-2025/actions/workflows/android-build.yml"><img src="https://github.com/bts-lasalle-avignon-projets/plug-in-pool-2025/actions/workflows/android-build.yml/badge.svg" alt="Qt" style="pointer-events: none;" class="inline"/></a>   </td></tr>
</table>
<h1>Projet BTS CIEL 2025 : Plug-In-Pool</h1>
<ul>
<li><a href="#projet-bts-ciel-2025--plug-in-pool">Projet BTS CIEL 2025 : Plug-In-Pool</a><ul>
<li><a href="#présentation">Présentation</a></li>
<li><a href="#modules-ir">Modules IR</a><ul>
<li><a href="#application-android">Application Android</a><ul>
<li><a href="#module-de-gestion-de-matchs">Module de gestion de matchs</a></li>
<li><a href="#diagramme-de-cas-dutilisation-android">Diagramme de cas d'utilisation (Android)</a></li>
<li><a href="#ihm-de-lapplication-android">IHM de l'application Android</a></li>
<li><a href="#diagramme-de-classes-android">Diagramme de classes (Android)</a></li>
<li><a href="#recette">Recette</a></li>
<li><a href="#base-de-données">Base de données</a></li>
</ul>
</li>
<li><a href="#application-qt">Application Qt</a><ul>
<li><a href="#module-de-visualisation-de-matchs">Module de visualisation de matchs</a></li>
<li><a href="#diagramme-de-cas-dutilisation-qt">Diagramme de cas d'utilisation (Qt)</a></li>
<li><a href="#ihm-de-lapplication-qt">IHM de l'application Qt</a></li>
<li><a href="#diagramme-de-classes-qt">Diagramme de classes (Qt)</a></li>
<li><a href="#recette-1">Recette</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#communication-bluetooth">Communication Bluetooth</a><ul>
<li><a href="#protocole">Protocole</a><ul>
<li><a href="#activation-de-la-détection-mobile--table">Activation de la détection (Mobile → Table)</a></li>
<li><a href="#désactivation-de-la-détection-mobile--table">Désactivation de la détection (Mobile → Table)</a></li>
<li><a href="#empochage-table--mobile">Empochage (Table → Mobile)</a></li>
<li><a href="#démarrer-un-match-mobile--écran">Démarrer un match (Mobile → Écran)</a></li>
<li><a href="#démarrer-une-partie--la-casse-mobile--écran">Démarrer une partie : la casse (Mobile → Écran)</a></li>
<li><a href="#empochage-mobile--écran">Empochage (Mobile → Écran)</a></li>
<li><a href="#faute-mobile--écran">Faute (Mobile → Écran)</a></li>
<li><a href="#fin-de-partie-mobile--écran">Fin de partie (Mobile → Écran)</a></li>
<li><a href="#pause-mobile--écran">Pause (Mobile → Écran)</a></li>
<li><a href="#reprise-mobile--écran">Reprise (Mobile → Écran)</a></li>
<li><a href="#abandon-mobile--écran">Abandon (Mobile → Écran)</a></li>
<li><a href="#fin-de-match-mobile--écran">Fin de match (Mobile → Écran)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#gestion-de-projet">Gestion de projet</a><ul>
<li><a href="#itération-1">Itération 1</a></li>
<li><a href="#itération-2-version-01">Itération 2 (version 0.1)</a></li>
<li><a href="#itération-3-version-10">Itération 3 (version 1.0)</a></li>
<li><a href="#itération-4-version-11">Itération 4 (version 1.1)</a></li>
</ul>
</li>
<li><a href="#changelog">Changelog</a><ul>
<li><a href="#version-10">Version 1.0</a></li>
<li><a href="#version-01">Version 0.1</a></li>
</ul>
</li>
<li><a href="#défauts-constatés-non-corrigés">Défauts constatés non corrigés</a><ul>
<li><a href="#android">Android</a></li>
<li><a href="#qt">Qt</a></li>
</ul>
</li>
<li><a href="#équipe-de-développement">Équipe de développement</a></li>
</ul>
</li>
</ul>
<hr  />
<h2>Présentation</h2>
<p>Le système <b>Plug in Pool</b> est un système numérique permettant de jouer un match de <em>blackball</em> (parfois appelé billard anglais, billard pool ou 8 pool).</p>
<p>Les matchs sont réalisées en $n$ parties gagnantes.</p>
<p>Le <em>blackball</em> est un jeu de billard qui se déroule sur une table rectangulaire à 6 poches avec 14 billes de couleur (7 rouges et 7 jaunes), une bille noire portant le numéro 8 et une bille d'impact blanche. Les joueurs jouent uniquement les billes de leur groupe : les jaunes ou les rouges. Si un joueur empoche une de ses billes, il est autorisé à rejouer. La partie est gagnée par le joueur (ou l’équipe) qui, après avoir empoché les 7 billes de sa couleur, empoche la bille noire numéro 8.</p>
<blockquote class="doxtable">
<p>voir <a href="#déroulement-dune-partie">le déroulement d'une partie</a> </p>
</blockquote>
<p><img src="tableDeBillard.png" alt="" class="inline"/></p>
<p>Chaque table de billard est équipée de capteurs permettant de détecter dans quelle poche une bille a été empochée ainsi que sa couleur.</p>
<p>Ensuite, afin que ces données recueillies par les capteurs soient transmises à un appareil Android pour la gestion de la partie, un module Bluetooth sera utilisé pour assurer la transmission des informations entre la table et la tablette, dans les deux sens.</p>
<p><img src="structureDuSysteme.png" alt="" class="inline"/></p>
<hr  />
<h2>Modules IR</h2>
<h3>Application Android</h3>
<h4>Module de gestion de matchs</h4>
<p>Sur le terminal mobile Android, l'application permet de paramétrer un match et démarrer une ou plusieurs partie(s).</p>
<p>Ainsi, les joueurs peuvent :</p>
<ul>
<li>Saisir leur nom</li>
<li>Paramétrer le match entre deux joueurs<ul>
<li>Saisir le nombre de parties gagnantes</li>
</ul>
</li>
<li>Connecter le terminal mobile Android à une table</li>
<li>Lancer le match</li>
<li>Gérer et visualiser le déroulement de la partie<ul>
<li>Changer automatiquement de joueur</li>
<li>Afficher le nombre de points</li>
</ul>
</li>
</ul>
<p>Le terminal mobile Android, stocke chaque match dans une base de données SQLite, où il est possible pour l'utilisateur en se rendant dans l'historique, de la visualiser ou la purger. Le terminal Android permet de se connecter avec à une table par liaison Bluetooth pour communiquer avec elle, mais aussi pour assurer une liaison avec l'écran d'affichage.</p>
<blockquote class="doxtable">
<p>L'application est développée en Java. </p>
</blockquote>
<h4>Diagramme de cas d'utilisation (Android)</h4>
<p><img src="casUtilisationAndroid.png" alt="" class="inline"/></p>
<h4>IHM de l'application Android</h4>
<p><img src="accueilEtCreationOuChoixDesJoueurs.png" alt="" class="inline"/></p>
<p><img src="choixDesAppreilsEtActivitePartie.png" alt="" class="inline"/></p>
<p><img src="demarerPartieEtEmpochage.png" alt="" class="inline"/></p>
<p><img src="finDePartieEtHistorique.png" alt="" class="inline"/></p>
<h4>Diagramme de classes (Android)</h4>
<h4>Recette</h4>
<table class="doxtable">
<tr>
<td style="font-weight: bold;">Fonctionalités </td><td style="font-weight: bold;">A faire </td><td style="font-weight: bold;">En cours </td><td style="font-weight: bold;">Terminé  </td></tr>
<tr>
<td>Créer un joueur </td><td style="text-align: center;"></td><td style="text-align: center;"></td><td style="text-align: center;">x  </td></tr>
<tr>
<td>Paraméter un match </td><td style="text-align: center;"></td><td style="text-align: center;"></td><td style="text-align: center;">x  </td></tr>
<tr>
<td>Lancer un match </td><td style="text-align: center;"></td><td style="text-align: center;"></td><td style="text-align: center;">x  </td></tr>
<tr>
<td>Gérer le déroulement d'un match </td><td style="text-align: center;"></td><td style="text-align: center;"></td><td style="text-align: center;">x  </td></tr>
<tr>
<td>Enregistrer les données des parties </td><td style="text-align: center;">x </td><td style="text-align: center;"></td><td style="text-align: center;"></td></tr>
<tr>
<td>Consulter l'historique des matchs </td><td style="text-align: center;"></td><td style="text-align: center;"></td><td style="text-align: center;">x  </td></tr>
<tr>
<td>Purger l'historique </td><td style="text-align: center;"></td><td style="text-align: center;"></td><td style="text-align: center;">x  </td></tr>
<tr>
<td>Dialoguer avec l'écran </td><td style="text-align: center;"></td><td style="text-align: center;"></td><td style="text-align: center;">x  </td></tr>
<tr>
<td>Dialoguer avec la table de billard </td><td style="text-align: center;"></td><td style="text-align: center;"></td><td style="text-align: center;">x  </td></tr>
</table>
<h4>Base de données</h4>
<p><img src="bdd.jpg" alt="" class="inline"/></p>
<div class="fragment"><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keywordflow">IF</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> <span class="stringliteral">&quot;joueurs&quot;</span> (</div>
<div class="line">    <span class="stringliteral">&quot;idJoueur&quot;</span>  <span class="keywordtype">INTEGER</span>,</div>
<div class="line">    <span class="stringliteral">&quot;nom&quot;</span>       <span class="keywordtype">VARCHAR</span>(<span class="stringliteral">64</span>),</div>
<div class="line">    <span class="stringliteral">&quot;prenom&quot;</span>    <span class="keywordtype">VARCHAR</span>(<span class="stringliteral">64</span>),</div>
<div class="line">    <span class="stringliteral">&quot;points&quot;</span>    <span class="keywordtype">INTEGER</span> <span class="keyword">DEFAULT</span> <span class="stringliteral">0</span>,</div>
<div class="line">    <span class="keyword">PRIMARY</span> KEY(<span class="stringliteral">&quot;idJoueur&quot;</span> AUTOINCREMENT),</div>
<div class="line">    <span class="keyword">UNIQUE</span>(<span class="stringliteral">&quot;nom&quot;</span>,<span class="stringliteral">&quot;prenom&quot;</span>)</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keywordflow">IF</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> <span class="stringliteral">&quot;matchs&quot;</span> (</div>
<div class="line">    <span class="stringliteral">&quot;idMatch&quot;</span>               <span class="keywordtype">INTEGER</span>,</div>
<div class="line">    <span class="stringliteral">&quot;nom&quot;</span>                   <span class="keywordtype">VARCHAR</span>(<span class="stringliteral">64</span>),</div>
<div class="line">    <span class="stringliteral">&quot;idJoueur1&quot;</span>             <span class="keywordtype">INTEGER</span> <span class="keyword">NOT</span> <span class="stringliteral">NULL</span>,</div>
<div class="line">    <span class="stringliteral">&quot;idJoueur2&quot;</span>             <span class="keywordtype">INTEGER</span> <span class="keyword">NOT</span> <span class="stringliteral">NULL</span>,</div>
<div class="line">    <span class="stringliteral">&quot;nbPartiesGagnantes&quot;</span>    <span class="keywordtype">INTEGER</span> <span class="keyword">DEFAULT</span> <span class="stringliteral">1</span>,</div>
<div class="line">    <span class="stringliteral">&quot;fini&quot;</span>                  <span class="keywordtype">INTEGER</span> <span class="keyword">DEFAULT</span> <span class="stringliteral">0</span>,</div>
<div class="line">    <span class="stringliteral">&quot;horodatage&quot;</span>            DATETIME <span class="keyword">NOT</span> <span class="stringliteral">NULL</span>,</div>
<div class="line">    <span class="keyword">PRIMARY</span> KEY(<span class="stringliteral">&quot;idMatch&quot;</span> AUTOINCREMENT),</div>
<div class="line">    <span class="keyword">FOREIGN</span> KEY(<span class="stringliteral">&quot;idJoueur1&quot;</span>) <span class="keyword">REFERENCES</span> <span class="stringliteral">&quot;joueurs&quot;</span>(<span class="stringliteral">&quot;idJoueur&quot;</span>) <span class="keyword">ON</span> <span class="keyword">DELETE</span> CASCADE,</div>
<div class="line">    <span class="keyword">FOREIGN</span> KEY(<span class="stringliteral">&quot;idJoueur2&quot;</span>) <span class="keyword">REFERENCES</span> <span class="stringliteral">&quot;joueurs&quot;</span>(<span class="stringliteral">&quot;idJoueur&quot;</span>) <span class="keyword">ON</span> <span class="keyword">DELETE</span> CASCADE</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keywordflow">IF</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> <span class="stringliteral">&quot;manches&quot;</span> (</div>
<div class="line">    <span class="stringliteral">&quot;idManche&quot;</span>      <span class="keywordtype">INTEGER</span>,</div>
<div class="line">    <span class="stringliteral">&quot;idMatch&quot;</span>       <span class="keywordtype">INTEGER</span> <span class="keyword">NOT</span> <span class="stringliteral">NULL</span>,</div>
<div class="line">    <span class="stringliteral">&quot;idGagnant&quot;</span>     <span class="keywordtype">INTEGER</span>,</div>
<div class="line">    <span class="stringliteral">&quot;idPerdant&quot;</span>     <span class="keywordtype">INTEGER</span>,</div>
<div class="line">    <span class="stringliteral">&quot;numeroTable&quot;</span>   <span class="keywordtype">INTEGER</span> <span class="keyword">NOT</span> <span class="stringliteral">NULL</span>,</div>
<div class="line">    <span class="stringliteral">&quot;horodatage&quot;</span>    DATETIME <span class="keyword">NOT</span> <span class="stringliteral">NULL</span> <span class="keyword">UNIQUE</span>,</div>
<div class="line">    <span class="keyword">PRIMARY</span> KEY(<span class="stringliteral">&quot;idManche&quot;</span> AUTOINCREMENT),</div>
<div class="line">    <span class="keyword">FOREIGN</span> KEY(<span class="stringliteral">&quot;idGagnant&quot;</span>) <span class="keyword">REFERENCES</span> <span class="stringliteral">&quot;joueurs&quot;</span>(<span class="stringliteral">&quot;idJoueur&quot;</span>) <span class="keyword">ON</span> <span class="keyword">DELETE</span> CASCADE,</div>
<div class="line">    <span class="keyword">FOREIGN</span> KEY(<span class="stringliteral">&quot;idPerdant&quot;</span>) <span class="keyword">REFERENCES</span> <span class="stringliteral">&quot;joueurs&quot;</span>(<span class="stringliteral">&quot;idJoueur&quot;</span>) <span class="keyword">ON</span> <span class="keyword">DELETE</span> CASCADE,</div>
<div class="line">    <span class="keyword">FOREIGN</span> KEY(<span class="stringliteral">&quot;idMatch&quot;</span>) <span class="keyword">REFERENCES</span> <span class="stringliteral">&quot;matchs&quot;</span>(<span class="stringliteral">&quot;idMatch&quot;</span>) <span class="keyword">ON</span> <span class="keyword">DELETE</span> CASCADE</div>
<div class="line">);</div>
</div><!-- fragment --><h3>Application Qt</h3>
<h4>Module de visualisation de matchs</h4>
<p>Ce module correspond à la partie “affichage” du système. Il a pour objectifs de réaliser la récupération d’informations envoyées par le terminal mobile et l’affichage de la rencontre actuelle. Il communique en Bluetooth uniquement avec le terminal mobile Android.</p>
<p>Sur l'écran, les joueurs pourront visualiser en continu :</p>
<ul>
<li>Le nom des joueurs (si existant), la durée écoulée du match</li>
<li>Les billes empochées et restantes</li>
<li>Le nombre de manches gagnées par chaque joueur</li>
<li>Des statistiques</li>
</ul>
<blockquote class="doxtable">
<p>L'application Qt s'exécute sur Raspberry Pi modèle 5 sur lequel est relié un écran de télévision (HDMI). </p>
</blockquote>
<h4>Diagramme de cas d'utilisation (Qt)</h4>
<h4>IHM de l'application Qt</h4>
<p><img src="ecranAccueil.png" alt="" class="inline"/></p>
<p><img src="ecranMatch.png" alt="" class="inline"/></p>
<p><img src="ecranPartie.png" alt="" class="inline"/></p>
<p><img src="ecranPartieCasse.png" alt="" class="inline"/></p>
<p><img src="ecranPartieEmpochage.png" alt="" class="inline"/></p>
<p><img src="ecranFinPartie.png" alt="" class="inline"/></p>
<p><img src="ecranFinMatch.png" alt="" class="inline"/></p>
<h4>Diagramme de classes (Qt)</h4>
<h4>Recette</h4>
<table class="doxtable">
<tr>
<td style="font-weight: bold;">Fonctionalités </td><td style="font-weight: bold;">A faire </td><td style="font-weight: bold;">En cours </td><td style="font-weight: bold;">Terminé  </td></tr>
<tr>
<td>Afficher un écran d'accueil </td><td style="text-align: center;"></td><td style="text-align: center;"></td><td style="text-align: center;">x  </td></tr>
<tr>
<td>Visualiser l’empochage d’une bille </td><td style="text-align: center;"></td><td style="text-align: center;"></td><td style="text-align: center;">x  </td></tr>
<tr>
<td>Visualiser les données de la partie en temps réel </td><td style="text-align: center;"></td><td style="text-align: center;"></td><td style="text-align: center;">x  </td></tr>
<tr>
<td>Visualiser les données du match </td><td style="text-align: center;"></td><td style="text-align: center;">x </td><td style="text-align: center;"></td></tr>
<tr>
<td>Dialoguer avec le terminal mobile </td><td style="text-align: center;"></td><td style="text-align: center;"></td><td style="text-align: center;">x  </td></tr>
</table>
<h2>Communication Bluetooth</h2>
<p>Bluetooth v5.x</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Modules   </th><th class="markdownTableHeadCenter">Rôle    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Gestion de matchs (Android)   </td><td class="markdownTableBodyCenter">Client (<em>peripheral</em>)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Visualisation de matchs (Qt)   </td><td class="markdownTableBodyCenter">Serveur (<em>central</em>)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Détection de billes (ESP32)   </td><td class="markdownTableBodyCenter">Serveur (<em>slave</em>)   </td></tr>
</table>
<h3>Protocole</h3>
<p>Format général :</p>
<ul>
<li>Contenu : caractères ASCII</li>
<li>Entête : <code>$</code></li>
<li>Séparateur : <code>/</code></li>
<li>Délimiteur de fin : <code>!</code></li>
</ul>
<h4>Activation de la détection (Mobile → Table)</h4>
<p>Format : <code>$A!</code></p>
<h4>Désactivation de la détection (Mobile → Table)</h4>
<p>Format : <code>$D!</code></p>
<h4>Empochage (Table → Mobile)</h4>
<p>Format : <code>$couleurBille/idPoche!</code></p>
<ul>
<li><code>couleurBille</code> : la couleur de bille</li>
</ul>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Couleur   </th><th class="markdownTableHeadCenter">Valeur    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">Bille Rouge   </td><td class="markdownTableBodyCenter">0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">Bille Jaune   </td><td class="markdownTableBodyCenter">1    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">Bille Blanche   </td><td class="markdownTableBodyCenter">2    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">Bille Noire   </td><td class="markdownTableBodyCenter">3   </td></tr>
</table>
<ul>
<li><code>idPoche</code> : l'identifiant de la poche</li>
</ul>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Poche   </th><th class="markdownTableHeadCenter">Valeur    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">Poche Nord-Ouest   </td><td class="markdownTableBodyCenter">1    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">Poche Nord-Est   </td><td class="markdownTableBodyCenter">2    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">Poche Équateur-Ouest   </td><td class="markdownTableBodyCenter">3    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">Poche Équateur-Est   </td><td class="markdownTableBodyCenter">4    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">Poche Sud-Ouest   </td><td class="markdownTableBodyCenter">5    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">Poche Sud-Est   </td><td class="markdownTableBodyCenter">6   </td></tr>
</table>
<p><img src="./simulateur/images/table.png" alt="" class="inline"/></p>
<h4>Démarrer un match (Mobile → Écran)</h4>
<p>| $ | type | / | nbParties | / | prenomJoueur1 | / | prenomJoueur2 | ! | | :-&mdash; | :-&mdash; | :-&mdash; | :-&mdash; | :-&mdash; | :-&mdash; | :-&mdash; | :-&mdash; | :-&mdash; |</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">type   </th><th class="markdownTableHeadLeft">Char   </th><th class="markdownTableHeadLeft">D : Démarrer le match ( configuration )    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">nbParties   </td><td class="markdownTableBodyLeft">Int   </td><td class="markdownTableBodyLeft">x    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">prenomJoueur1   </td><td class="markdownTableBodyLeft">String   </td><td class="markdownTableBodyLeft">“*nomJoueur1*”    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">prenomJoueur2   </td><td class="markdownTableBodyLeft">String   </td><td class="markdownTableBodyLeft">“*nomJoueur2*”   </td></tr>
</table>
<h4>Démarrer une partie : la casse (Mobile → Écran)</h4>
<p>| $ | type | / | idPartie | / | idJoueur | / | couleurBille | / | idPoche | ! | | :&mdash;: | :&mdash;: | :&mdash;: | :&mdash;: | :&mdash;: | :&mdash;: | :&mdash;: | :&mdash;: | :&mdash;: | :&mdash;: | :&mdash;: |</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">type   </th><th class="markdownTableHeadLeft">Char   </th><th class="markdownTableHeadLeft">C : Casse (démarrage d’une partie)    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">idPartie   </td><td class="markdownTableBodyLeft">Int   </td><td class="markdownTableBodyLeft">Le numéro de partie    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">idJoueur   </td><td class="markdownTableBodyLeft">Int   </td><td class="markdownTableBodyLeft">1 : <a class="el" href="class_joueur.html">Joueur</a> 1 2 : <a class="el" href="class_joueur.html">Joueur</a> 2    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">couleurBille   </td><td class="markdownTableBodyLeft">Int   </td><td class="markdownTableBodyLeft">0 : Rouge 1 : Jaune 2 : Blanche 3 : Noire -1 : Aucune*    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">idPoche   </td><td class="markdownTableBodyLeft">Int   </td><td class="markdownTableBodyLeft">1 : Poche Nord-Ouest** 2 : Poche Nord-Est** 3 : Poche Équateur-Ouest** 4 : Poche Équateur-Est** 5 : Poche Sud-Ouest** 6 : Poche Sud-Est** 0 : Aucune poche   </td></tr>
</table>
<h4>Empochage (Mobile → Écran)</h4>
<p>| $ | type | / | idJoueur | / | couleurBille | / | idPoche | ! | | :&mdash;: | :&mdash;: | :&mdash;: | :&mdash;: | :&mdash;: | :&mdash;: | :&mdash;: | :&mdash;: | :&mdash;: |</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">type   </th><th class="markdownTableHeadLeft">Char   </th><th class="markdownTableHeadLeft">E : Empochage d’une bille    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">idJoueur   </td><td class="markdownTableBodyLeft">Int   </td><td class="markdownTableBodyLeft">1 : <a class="el" href="class_joueur.html">Joueur</a> 1 2 : <a class="el" href="class_joueur.html">Joueur</a> 2    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">couleurBille   </td><td class="markdownTableBodyLeft">Int   </td><td class="markdownTableBodyLeft">0 : Rouge 1 : Jaune 2 : Blanche 3 : Noire -1 : Aucune*    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">idPoche   </td><td class="markdownTableBodyLeft">Int   </td><td class="markdownTableBodyLeft">1 : Poche Nord-Ouest** 2 : Poche Nord-Est** 3 : Poche Équateur-Ouest** 4 : Poche Équateur-Est** 5 : Poche Sud-Ouest** 6 : Poche Sud-Est** 0 : Aucune poche   </td></tr>
</table>
<p>** Le cas où aucune bille est empochée (en option).*</p>
<h4>Faute (Mobile → Écran)</h4>
<p>| $ | type | / | idJoueur | / | faute | ! | | :&mdash;: | :&mdash;: | :&mdash;: | :-&mdash; | :&mdash;: | :&mdash;: | :&mdash;: |</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">type   </th><th class="markdownTableHeadLeft">Char   </th><th class="markdownTableHeadLeft">F : Faute d’une joueur    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">idJoueur   </td><td class="markdownTableBodyLeft">String   </td><td class="markdownTableBodyLeft">1 : <a class="el" href="class_joueur.html">Joueur</a> 1 2 : <a class="el" href="class_joueur.html">Joueur</a> 2    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">faute   </td><td class="markdownTableBodyLeft"></td><td class="markdownTableBodyLeft">*Le champ peut être vide   </td></tr>
</table>
<p>**Le code de la faute (facultatif) commise par le joueur idJoueur*</p>
<h4>Fin de partie (Mobile → Écran)</h4>
<p>| $ | type | / | idPartie | / | idJoueur | ! | | :&mdash;: | :&mdash;: | :&mdash;: | :-&mdash; | :&mdash;: | :-&mdash; | :&mdash;: |</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">type   </th><th class="markdownTableHeadLeft">Char   </th><th class="markdownTableHeadLeft">T : partie Terminée    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">idPartie   </td><td class="markdownTableBodyLeft">Int   </td><td class="markdownTableBodyLeft">Le numéro de partie    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">idJoueur   </td><td class="markdownTableBodyLeft">Int   </td><td class="markdownTableBodyLeft">Le joueur qui a gagné la partie 1 : <a class="el" href="class_joueur.html">Joueur</a> 1 2 : <a class="el" href="class_joueur.html">Joueur</a> 2   </td></tr>
</table>
<h4>Pause (Mobile → Écran)</h4>
<p>| $ | type | ! | | :&mdash;: | :&mdash;: | :&mdash;: |</p>
<p>| type | Char | P : la partie est mis en Pause | | :-&mdash; | :-&mdash; | :-&mdash; |</p>
<p>** Désactivation des timers*</p>
<h4>Reprise (Mobile → Écran)</h4>
<p>| $ | type | ! | | :&mdash;: | :&mdash;: | :&mdash;: |</p>
<p>| type | Char | R : Reprise d’une partie | | :-&mdash; | :-&mdash; | :-&mdash; |</p>
<p>** Réactivation des timers*</p>
<h4>Abandon (Mobile → Écran)</h4>
<p>| $ | type | ! | | :&mdash;: | :&mdash;: | :&mdash;: |</p>
<p>| type | Char | A : la partie est abandonnée | | :-&mdash; | :-&mdash; | :-&mdash; |</p>
<p>** Si la partie n’est pas démarrée, le match est abandonné*</p>
<h4>Fin de match (Mobile → Écran)</h4>
<p>| $ | type | / | nbPartiesJoueur1 | / | nbPartiesJoueur2 | ! | | :&mdash;: | :&mdash;: | :&mdash;: | :-&mdash; | :&mdash;: | :-&mdash; | :&mdash;: |</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">type   </th><th class="markdownTableHeadLeft">Char   </th><th class="markdownTableHeadLeft">M : <a class="el" href="class_match.html">Match</a> terminé    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">nbPartiesJoueur1   </td><td class="markdownTableBodyLeft">Int   </td><td class="markdownTableBodyLeft">Le nombre de parties gagnées par le joueur 1    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">nbPartiesJoueur2   </td><td class="markdownTableBodyLeft">Int   </td><td class="markdownTableBodyLeft">Le nombre de parties gagnées par le joueur 2   </td></tr>
</table>
<h2>Gestion de projet</h2>
<p><a href="https://github.com/orgs/bts-lasalle-avignon-projets/projects/27">GitHub Project</a></p>
<h3>Itération 1</h3>
<blockquote class="doxtable">
<p>Du 29 Janvier 2025 au 28 Mars 2025 </p>
</blockquote>
<ul>
<li>[x] Créer les maquettes des interfaces</li>
<li>[x] Initialiser le dépot</li>
<li>[x] Créer les vues Android</li>
</ul>
<h3>Itération 2 (<a href="https://github.com/bts-lasalle-avignon-projets/plug-in-pool-2025/releases/tag/0.1">version 0.1</a>)</h3>
<blockquote class="doxtable">
<p>Du 29 Mars 2025 au 23 Mai 2025 </p>
</blockquote>
<ul>
<li>[x] Paramétrer un match</li>
<li>[x] Lancer une partie</li>
<li>[x] Choisir un ou des joueurs existants pour lancer un match</li>
<li>[x] Créer un ou des nouveaux joueurs</li>
<li>[x] Enregister dans la base de données les nouveaux joueurs</li>
<li>[x] Gérer la casse et une manche</li>
<li>[x] Liaison entre la table de billard et le terminal mobile Android</li>
<li>[x] Liaison entre le terminal mobile Android et l'ecran d'affichage</li>
</ul>
<h3>Itération 3 (<a href="https://github.com/bts-lasalle-avignon-projets/plug-in-pool-2025/releases/tag/1.0">version 1.0</a>)</h3>
<blockquote class="doxtable">
<p>Du 24 Mai 2025 au 30 Mai 2025 </p>
</blockquote>
<ul>
<li>[x] Jouer une parties</li>
<li>[x] Afficher les données de la partie en cours</li>
<li>[x] Afficher le joueur gagant</li>
<li>[x] Visualiser l'historique</li>
<li>[x] Purger l'historique</li>
</ul>
<h3>Itération 4 (<a href="https://github.com/bts-lasalle-avignon-projets/plug-in-pool-2025/releases/tag/1.1">version 1.1</a>)</h3>
<blockquote class="doxtable">
<p>Du 31 Mai 2025 au 15 Juin 2025 </p>
</blockquote>
<ul>
<li>[ ] Jouer plusieurs parties</li>
<li>[ ] Enregistrer les données du match dans la base de données</li>
</ul>
<h2>Changelog</h2>
<h3>Version 1.0</h3>
<ul>
<li>[x] Jouer une partie</li>
<li>[x] Afficher les données de la partie en cours</li>
<li>[x] Afficher le joueur gagnant</li>
<li>[x] Visualiser l'historique</li>
<li>[x] Purger l'historique</li>
</ul>
<h3>Version 0.1</h3>
<ul>
<li>[x] Paramétrer un match</li>
<li>[x] Lancer une ou plusieurs partie(s)</li>
<li>[x] Choisir un ou des joueurs existants pour lancer un match</li>
<li>[x] Créer un ou des nouveaux joueurs</li>
<li>[x] Enregister dans la base de données les nouveaux joueurs</li>
<li>[x] Gérer la casse et une manche</li>
<li>[x] Communiquer en Bluetooth entre les différents modules</li>
</ul>
<h2>Défauts constatés non corrigés</h2>
<h3>Android</h3>
<ul>
<li>Si la première tentative de connexion à un appareils Bluetooth échoue. Il apparait comme : _"Erreur de connexion"_ dans l'application Android, alors qu'il est en réalité bien connecté.</li>
</ul>
<h3>Qt</h3>
<ul>
<li>Si deux trames sont envoyées à la suite depuis la tablette Android vers l'écran de visualisation. Elles sont considérées comme une seule.</li>
</ul>
<h2>Équipe de développement</h2>
<ul>
<li>Gestion des matchs (Android) : MILLOT Pierre (IR) &lt;**<a href="#" onclick="location.href='mai'+'lto:'+'pie'+'rr'+'e.m'+'il'+'lot'+'.p'+'ro@'+'gm'+'ail'+'.c'+'om'; return false;">pierre(dot)millot(dot)pro(at)gmail(dot)com</a>**&gt;</li>
<li>Visualisation des matchs (Qt) : NAVARRO Mattéo (IR) &lt;**<a href="#" onclick="location.href='mai'+'lto:'+'mat'+'te'+'o.n'+'av'+'arr'+'o.'+'pro'+'@g'+'mai'+'l.'+'com'; return false;">matteo(dot)navarro(dot)pro(at)gmail(dot)com</a>**&gt;</li>
<li>Détection des billes (ESP32) : VIVANCOS Evan (ER) &lt;**<a href="#" onclick="location.href='mai'+'lto:'+'eva'+'n.'+'viv'+'an'+'cos'+'.p'+'ro@'+'gm'+'ail'+'.c'+'om'; return false;">evan(dot)vivancos(dot)pro(at)gmail(dot)com</a>**&gt;</li>
</ul>
<hr  />
<p> &copy; 2024-2025 BTS LaSalle Avignon </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer"><img class="footer" src="lasalle-logo.png" height="31" alt="La Salle Avignon"/>&nbsp;<b>Campus La Salle Avignon</b>&nbsp;-&nbsp;9 Rue Notre Dame des 7 douleurs&nbsp;-&nbsp;BP 50165&nbsp;-&nbsp;84008 Avignon&nbsp;-&nbsp;Généré le Mercredi 28 Mai 2025 06:21:55 pour Projet Plug-In-Pool par&nbsp;<a href="https://www.doxygen.org/index.html">doxygen</a>&nbsp;1.9.1&nbsp;</li>
  </ul>
</div>
</body>
</html>
